(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{104:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(3),i=n(8),l=n(9),s=n(16),u=n(15),o=n(17),m=n(0),b=n.n(m),h=n(6),f=n(10),d=n(27),p=n(20),g=(n(77),function(e){var t=e.onClick,n=e.degree,a=e.className,r=e.children,c="box ".concat(a),i=(n+75)%360,l={background:"\n            linear-gradient(135deg,\n            hsl(".concat(n%360,", 51.3%, 46.7%) 0%,\n            hsl(").concat(i,", 96%, 62.9%) 100%)")};return t?b.a.createElement("div",{onClick:t,style:l,className:c},r):b.a.createElement("div",{style:l,className:c},r)}),v=n(78),w=n.n(v),E=n(65);n(79);n.d(t,"default",function(){return O});var O=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={loading:!0},n.loadOldGame=function(){var e=Object(c.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state.unfinishedGames.find(function(e){return e.id===t})){e.next=3;break}return e.abrupt("return");case 3:n.setState({gameId:t,gameLocation:"/game/".concat(t)});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.prepareGame=function(){var e=Object(c.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.Create(t.name,t.width,t.height,t.bombs);case 2:a=e.sent,n.setState({gameId:a.id,gameLocation:"/game/".concat(a.id)});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(r.a.mark(function e(){var t,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.getAll();case 2:return t=e.sent,e.next=5,d.a.GetUnfinishedGames();case 5:n=(n=e.sent).sort(function(e,t){return e.invisiblePieces>t.invisiblePieces?1:-1}),this.setState({loading:!1,unfinishedGames:n,gameTemplates:t});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(this.state&&this.state.gameId&&this.state.gameLocation)return b.a.createElement(h.a,{to:this.state.gameLocation});var t=this.state,n=t.loading,a=t.unfinishedGames,r=t.gameTemplates;return n?b.a.createElement(p.a,null):b.a.createElement("div",{className:"menu"},b.a.createElement("h3",{className:"menu__header"},b.a.createElement("span",null,"New Game"),b.a.createElement(f.b,{to:"/menu/manage",className:"menu__header--link"},"Manage Templates")),b.a.createElement("div",{className:"menu__new"},r.map(function(t,n){return b.a.createElement(g,{key:t.name,degree:25*n+100,className:"menu__new__item",onClick:function(){return e.prepareGame(t)}},b.a.createElement("h2",{className:"menu--title"},t.name),b.a.createElement("p",null,b.a.createElement("small",null,b.a.createElement("strong",null,"Bombs: "),t.bombs)),b.a.createElement("p",null,b.a.createElement("small",null,b.a.createElement("strong",null,"Width: "),t.width)),b.a.createElement("p",null,b.a.createElement("small",null,b.a.createElement("strong",null,"Height: "),t.height)))}),b.a.createElement(g,{degree:25*r.length+100,className:"menu__new__item"},b.a.createElement(f.b,{to:"/menu/custom"},b.a.createElement("h2",null,"Custom"),b.a.createElement("img",{src:w.a,alt:"Add custom game"})))),a&&0!==a.length?b.a.createElement(b.a.Fragment,null,b.a.createElement("h3",null,"Continue Playing"),b.a.createElement("div",{className:"menu__continue"},a.map(function(t){return b.a.createElement(g,{key:t.id,degree:360*((t.width*t.height-t.bombs-t.invisiblePieces)/(t.width*t.height)-t.bombs),className:"menu__continue__item",onClick:function(){return e.loadOldGame(t.id)}},b.a.createElement("h2",{className:"menu--title"},t.difficulty),b.a.createElement("div",{className:"menu__continue__details"},b.a.createElement("div",null,b.a.createElement("p",null,b.a.createElement("small",null,b.a.createElement("strong",null,"Bombs: "),t.bombs)),b.a.createElement("p",null,b.a.createElement("small",null,b.a.createElement("strong",null,"Width: "),t.width)),b.a.createElement("p",null,b.a.createElement("small",null,b.a.createElement("strong",null,"Height: "),t.height))),b.a.createElement("div",null,b.a.createElement("p",null,b.a.createElement("small",null,b.a.createElement("strong",null,"Pieces Left: "),t.invisiblePieces)),b.a.createElement("p",null,b.a.createElement("small",null,b.a.createElement("strong",null,"Moves: "),t.totalMoves)),b.a.createElement("p",null,b.a.createElement("small",null,b.a.createElement("strong",null,"Time: "),Math.floor(t.time),"s")))))}))):null)}}]),t}(m.Component)},65:function(e,t,n){"use strict";n.d(t,"a",function(){return C});var a,r,c,i,l,s,u,o,m,b,h,f,d,p,g,v,w,E=n(1),O=n.n(E),j=n(3),y=n(4),k=n(8),x=n(9),_=n(5),N=(n(26),n(2)),G=n(28),A=[{id:"00000000-0000-0000-0000-000000000001",name:"easy",width:8,height:8,bombs:10},{id:"00000000-0000-0000-0000-000000000002",name:"medium",width:16,height:16,bombs:40},{id:"00000000-0000-0000-0000-000000000003",name:"hard",width:24,height:24,bombs:99}],C=(a=Object(N.c)("cgc"),r=Object(N.a)("cgc",!0),c=Object(N.a)("cgc"),i=Object(N.a)("cgc"),l=Object(N.a)("cgc"),s=Object(N.a)("cgc"),u=Object(N.a)("cgc"),o=Object(N.a)("cgc"),a((b=function(){function e(){Object(k.a)(this,e),this.tableName="cgc",Object(y.a)(this,"id",h,this),Object(y.a)(this,"name",f,this),Object(y.a)(this,"width",d,this),Object(y.a)(this,"height",p,this),Object(y.a)(this,"bombs",g,this),Object(y.a)(this,"isDeleted",v,this),Object(y.a)(this,"createdAt",w,this),this.save=!1}return Object(x.a)(e,null,[{key:"save",value:function(){var t=Object(j.a)(O.a.mark(function t(n){var a;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object.assign(new e,n,{id:Object(G.a)(),createdAt:new Date}),t.next=3,N.b.save(a);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},{key:"delete",value:function(){var t=Object(j.a)(O.a.mark(function t(n){var a;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object.assign(new e,n),t.next=3,N.b.remove(a);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},{key:"getAll",value:function(){var t=Object(j.a)(O.a.mark(function t(){var n,a;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.b.getAll(new e);case 2:if(n=t.sent,0!==n.filter(function(e){return/^[0]{8}-[0]{4}-[0]{4}-[0]{4}-[0]{11}[1-3]$/.test(e.id)}).length){t.next=11;break}return t.next=7,this.addDefaultTemplateGames();case 7:a=t.sent,n=a,t.next=12;break;case 11:n=n.filter(function(e){return!e.isDeleted});case 12:return t.abrupt("return",n);case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getById",value:function(){var t=Object(j.a)(O.a.mark(function t(n){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.b.getById(new e,n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},{key:"validate",value:function(e){var t={};return Object.keys(e).forEach(function(n){switch(n){case"width":case"height":e[n]>50?t[n]="".concat(n," is too high!"):e[n]<5&&(t[n]="".concat(n," is too low!"));break;case"bombs":e.bombs>e.width*e.height-1?t.bombs="Too many bombs! (Max: ".concat(e.width*e.height-1,")"):e.bombs<1&&(t.bombs="Too few bombs! (Min: 1)");break;case"name":e.save&&"string"===typeof e.name&&(e.name.length>16?t.name="Name is too long!":0===e.name.length&&(t.name="Name cannot be empty!"))}}),t}},{key:"addDefaultTemplateGames",value:function(){var t=Object(j.a)(O.a.mark(function t(){var n,a;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=A.map(function(t){return Object.assign(new e,t)}),a=0;case 2:if(!(a<n.length)){t.next=8;break}return t.next=5,N.b.save(n[a]);case 5:a++,t.next=2;break;case 8:return t.abrupt("return",n);case 9:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()}]),e}(),h=Object(_.a)(b.prototype,"id",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=Object(_.a)(b.prototype,"name",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),d=Object(_.a)(b.prototype,"width",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 8}}),p=Object(_.a)(b.prototype,"height",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 8}}),g=Object(_.a)(b.prototype,"bombs",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),v=Object(_.a)(b.prototype,"isDeleted",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=Object(_.a)(b.prototype,"createdAt",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Date}}),m=b))||m)},77:function(e,t,n){},78:function(e,t,n){e.exports=n.p+"static/media/plus.bf1cb190.svg"},79:function(e,t,n){}}]);
//# sourceMappingURL=9.7612cd31.chunk.js.map