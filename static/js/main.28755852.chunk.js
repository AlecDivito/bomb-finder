(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,function(e,t,n){"use strict";n.d(t,"b",function(){return b}),n.d(t,"c",function(){return m}),n.d(t,"a",function(){return f});var a,r=n(1),i=n.n(r),o=n(3),c=n(8),s=n(9),u=n(19),l=function(){function e(){Object(c.a)(this,e),this.storage=void 0,this.tableQueue=void 0,this.storage=[],this.tableQueue=[]}return Object(s.a)(e,[{key:"addTable",value:function(e){var t=this.tableQueue.filter(function(t){return t.table===e}).map(function(e){return e.field}),n=this.tableQueue.filter(function(e){return e.primaryKey}).filter(function(t){return t.table===e}),a=void 0;n[0]&&(a=n[0].field);var r={table:e,fields:t,primaryKey:a};this.storage.push(r)}},{key:"addField",value:function(e,t,n){var a=this.storage.find(function(t){return t.table===e});void 0!==a?a.fields.push(t):this.tableQueue.push({table:e,field:t,primaryKey:n})}},{key:"getPrimaryKey",value:function(e){var t=this.storage.find(function(t){return t.table===e});if(t&&t.primaryKey)return t.primaryKey}},{key:"getMetaData",value:function(e){return this.storage.find(function(t){return t.table===e})}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e)}}]),e}();l.instance=void 0,function(e){e[e.INDEXDB=0]="INDEXDB",e[e.MEMORY=1]="MEMORY"}(a||(a={}));var b=function(){function e(){Object(c.a)(this,e),this.database=void 0,window.indexedDB?e.storageType=a.INDEXDB:e.storageType=a.MEMORY}return Object(s.a)(e,[{key:"connection",value:function(){var t=Object(o.a)(i.a.mark(function t(n,r){var o,c=this;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.indexedDB.open(window.location.hostname,r);case 2:return o=t.sent,t.abrupt("return",new Promise(function(t,r){o.onerror=function(t){e.storageType=a.MEMORY,r()},o.onupgradeneeded=function(e){var t=e.target.result,a=l.getInstance().getMetaData(n);if(void 0===a)throw new Error("No table found");var r=t.createObjectStore(n,{keyPath:a.primaryKey,autoIncrement:!1}),i=!0,o=!1,c=void 0;try{for(var s,u=a.fields[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var b=s.value;b!==a.primaryKey&&r.createIndex(b,b,{unique:!1})}}catch(m){o=!0,c=m}finally{try{i||null==u.return||u.return()}finally{if(o)throw c}}},o.onsuccess=function(e){c.database=e.target.result,t()}}));case 4:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"refreshDatabase",value:function(){var e=Object(o.a)(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.database){e.next=3;break}return e.next=3,this.connection(t);case 3:return n=this.database.version+1,this.database.close(),e.next=7,this.connection(t,n);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],[{key:"Instance",value:function(){return e.instance||(e.instance=new e),e.instance}},{key:"sanitizeId",value:function(e){return e.replace(" ","_").toLocaleLowerCase()}},{key:"save",value:function(){var t=Object(o.a)(i.a.mark(function t(n){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.storageType!==a.MEMORY){t.next=4;break}return Object(u.isObject)(e.memoryDb[n.tableName])||(e.memoryDb[n.tableName]={}),e.memoryDb[n.tableName][n.id]=n,t.abrupt("return",!0);case 4:return r=e.Instance(),t.abrupt("return",new Promise(function(){var e=Object(o.a)(i.a.mark(function e(t,a){var o,c,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.database){e.next=3;break}return e.next=3,r.connection(n.tableName);case 3:if(o=l.getInstance().getMetaData(n.tableName),r.database.objectStoreNames.contains(n.tableName)){e.next=8;break}return e.next=7,r.refreshDatabase(n.tableName);case 7:o=l.getInstance().getMetaData(n.tableName);case 8:c={},Object.keys(n).filter(function(e){return o.fields.includes(e)}).forEach(function(e){return c[e]=n[e]}),(s=r.database.transaction(n.tableName,"readwrite").objectStore(n.tableName).put(c)).onerror=function(e){a(!1)},s.onsuccess=function(e){t(!0)};case 13:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},{key:"getAll",value:function(){var t=Object(o.a)(i.a.mark(function t(n,r){var c,s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=[],e.storageType!==a.MEMORY){t.next=5;break}if(Object(u.isObject)(e.memoryDb[n.tableName])){t.next=4;break}return t.abrupt("return",c);case 4:return t.abrupt("return",Object.keys(e.memoryDb[n.tableName]).map(function(t){return e.memoryDb[n.tableName][t]}).filter(function(e){return!r||r(e)}));case 5:return s=e.Instance(),t.abrupt("return",new Promise(function(){var e=Object(o.a)(i.a.mark(function e(t,a){var o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s.database){e.next=3;break}return e.next=3,s.connection(n.tableName);case 3:s.database.objectStoreNames.contains(n.tableName)?((o=s.database.transaction([n.tableName],"readonly").objectStore(n.tableName).openCursor()).onerror=function(e){a(c)},o.onsuccess=function(e){var n=e.target.result;n&&((!r||r&&r(n.value))&&c.push(n.value),n.continue()),n||t(c)}):t(c);case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()));case 7:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"getById",value:function(){var t=Object(o.a)(i.a.mark(function t(n,r){var c;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.storageType!==a.MEMORY){t.next=4;break}if(Object(u.isObject)(e.memoryDb[n.tableName])){t.next=3;break}return t.abrupt("return",void 0);case 3:return t.abrupt("return",e.memoryDb[n.tableName][r]);case 4:return c=e.Instance(),t.abrupt("return",new Promise(function(){var e=Object(o.a)(i.a.mark(function e(t,a){var o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c.database){e.next=3;break}return e.next=3,c.connection(n.tableName);case 3:c.database.objectStoreNames.contains(n.tableName)?((o=c.database.transaction([n.tableName],"readonly").objectStore(n.tableName).get(r)).onerror=function(e){a(void 0)},o.onsuccess=function(e){t(o.result)}):t(void 0);case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"remove",value:function(){var t=Object(o.a)(i.a.mark(function t(n){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.storageType!==a.MEMORY){t.next=5;break}if(Object(u.isObject)(e.memoryDb[n.tableName])){t.next=3;break}return t.abrupt("return",!0);case 3:return Object(u.isObject)(e.memoryDb[n.tableName][n.id])&&delete e.memoryDb[n.tableName][n.id],t.abrupt("return",!0);case 5:return r=e.Instance(),t.abrupt("return",new Promise(function(){var e=Object(o.a)(i.a.mark(function e(t,a){var o,c,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.database){e.next=3;break}return e.next=3,r.connection(n.tableName);case 3:if(o=l.getInstance().getPrimaryKey(n.tableName)){e.next=7;break}return a(!1),e.abrupt("return");case 7:c=n[o],(s=r.database.transaction([n.tableName],"readwrite").objectStore(n.tableName).delete(c)).onerror=function(e){a(!1)},s.onsuccess=function(e){t(!0)};case 11:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()));case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}]),e}();function m(e){return function(t){l.getInstance().addTable(e)}}function f(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,a){l.getInstance().addField(e,a,t)}}b.instance=void 0,b.storageType=void 0,b.memoryDb={}},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=n(0),r=n.n(a);n(46);t.a=function(){return r.a.createElement("div",{className:"loading"},"Loading",r.a.createElement("span",{className:"loading--period"},"."),r.a.createElement("span",{className:"loading--period"},"."),r.a.createElement("span",{className:"loading--period"},"."))}},,function(e,t,n){"use strict";n.d(t,"a",function(){return G});var a,r,i,o,c,s,u,l,b,m,f,p,d,h,v,g,y,w,O,j,k,x,E,N=n(1),T=n.n(N),M=n(3),A=n(4),z=n(8),I=n(9),P=n(5),D=(n(26),n(2)),G=(a=Object(D.c)("stats"),r=Object(D.a)("stats",!0),i=Object(D.a)("stats"),o=Object(D.a)("stats"),c=Object(D.a)("stats"),s=Object(D.a)("stats"),u=Object(D.a)("stats"),l=Object(D.a)("stats"),b=Object(D.a)("stats"),m=Object(D.a)("stats"),f=Object(D.a)("stats"),a((d=function(){function e(){Object(z.a)(this,e),this.tableName="stats",Object(A.a)(this,"id",h,this),Object(A.a)(this,"name",v,this),Object(A.a)(this,"bestTime",g,this),Object(A.a)(this,"worstTime",y,this),Object(A.a)(this,"averageTime",w,this),Object(A.a)(this,"totalTimePlayed",O,this),Object(A.a)(this,"wins",j,this),Object(A.a)(this,"losses",k,this),Object(A.a)(this,"inprogress",x,this),Object(A.a)(this,"averageMoves",E,this)}return Object(I.a)(e,[{key:"gamesPlayed",get:function(){return this.wins+this.losses+this.inprogress}}],[{key:"GetAllStatistics",value:function(){var t=Object(M.a)(T.a.mark(function t(){var n,a,r,i;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new e,t.next=3,D.b.getAll(n);case 3:if(0!==(a=t.sent).length){t.next=6;break}return t.abrupt("return",[]);case 6:return(r=new e).name="All Game Modes",i=a.map(function(t){return r.bestTime=t.bestTime<r.bestTime?t.bestTime:r.bestTime,r.worstTime=t.worstTime>r.worstTime?t.worstTime:r.worstTime,r.averageTime+=t.averageTime,r.averageMoves+=t.averageMoves,r.wins+=t.wins,r.losses+=t.losses,r.inprogress+=t.inprogress,r.totalTimePlayed+=t.totalTimePlayed,t.averageMoves=Math.round(t.averageMoves),Object.assign(new e,t)},n),r.averageMoves=Math.round(r.averageMoves/i.length),r.averageTime=r.averageTime/i.length,i.unshift(r),t.abrupt("return",i);case 13:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()},{key:"GetStats",value:function(){var t=Object(M.a)(T.a.mark(function t(n){var a,r;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=new e,t.next=3,D.b.getById(a,D.b.sanitizeId(n));case 3:if(void 0!==(r=t.sent)){t.next=8;break}return t.abrupt("return",a);case 8:return t.abrupt("return",Object.assign(a,r));case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},{key:"AddGame",value:function(){var t=Object(M.a)(T.a.mark(function t(n){var a;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.GetStats(D.b.sanitizeId(n));case 2:return(a=t.sent).inprogress+=1,a.name=n,a.id=D.b.sanitizeId(n),t.next=8,D.b.save(a);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},{key:"AddGameResults",value:function(){var t=Object(M.a)(T.a.mark(function t(n){var a;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("created"!==n.result&&"inprogress"!==n.result){t.next=2;break}return t.abrupt("return",Promise.resolve(!1));case 2:return t.next=4,e.GetStats(n.difficulty);case 4:return(a=t.sent).inprogress-=1,0===Math.floor(n.time)?a.totalTimePlayed+=1:a.totalTimePlayed+=n.time,"won"===n.result?(a.wins+=1,a.averageMoves=e.ComputeAvg(a.gamesPlayed,a.averageMoves,n.totalMoves),a.averageTime=e.ComputeAvg(a.gamesPlayed,a.averageTime,n.time),(a.bestTime>=n.time||0===a.bestTime)&&(0===Math.floor(n.time)?a.bestTime=1:a.bestTime=Math.floor(n.time)),(a.worstTime<=n.time||0===a.worstTime)&&(0===Math.floor(n.time)?a.worstTime=1:a.worstTime=Math.floor(n.time))):a.losses+=1,t.next=10,D.b.save(a);case 10:return t.abrupt("return",t.sent);case 11:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},{key:"ComputeAvg",value:function(e,t,n){return e<=1?n:(t*(e-1)+n)/e}}]),e}(),h=Object(P.a)(d.prototype,"id",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=Object(P.a)(d.prototype,"name",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=Object(P.a)(d.prototype,"bestTime",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=Object(P.a)(d.prototype,"worstTime",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=Object(P.a)(d.prototype,"averageTime",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=Object(P.a)(d.prototype,"totalTimePlayed",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=Object(P.a)(d.prototype,"wins",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),k=Object(P.a)(d.prototype,"losses",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=Object(P.a)(d.prototype,"inprogress",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=Object(P.a)(d.prototype,"averageMoves",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=d))||p)},,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return K});var a,r,i,o,c,s,u,l,b,m,f,p,d,h,v,g,y,w,O,j,k,x,E,N,T,M,A,z,I,P=n(1),D=n.n(P),G=n(3),_=n(4),S=n(8),C=n(9),B=n(5),R=(n(26),n(2)),F=n(28),L=n(22),K=(a=Object(R.c)("Games"),r=Object(R.a)("Games",!0),i=Object(R.a)("Games"),o=Object(R.a)("Games"),c=Object(R.a)("Games"),s=Object(R.a)("Games"),u=Object(R.a)("Games"),l=Object(R.a)("Games"),b=Object(R.a)("Games"),m=Object(R.a)("Games"),f=Object(R.a)("Games"),p=Object(R.a)("Games"),d=Object(R.a)("Games"),h=Object(R.a)("Games"),a((g=function(){function e(){Object(S.a)(this,e),this.tableName="Games",Object(_.a)(this,"id",y,this),Object(_.a)(this,"time",w,this),Object(_.a)(this,"difficulty",O,this),Object(_.a)(this,"width",j,this),Object(_.a)(this,"height",k,this),Object(_.a)(this,"bombs",x,this),Object(_.a)(this,"board",E,this),Object(_.a)(this,"totalMoves",N,this),Object(_.a)(this,"invisiblePieces",T,this),Object(_.a)(this,"isComplete",M,this),Object(_.a)(this,"result",A,this),Object(_.a)(this,"updatedAt",z,this),Object(_.a)(this,"createdAt",I,this)}return Object(C.a)(e,[{key:"reset",value:function(){var t=Object(G.a)(D.a.mark(function t(n){var a;return D.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.Create(n.difficulty,n.width,n.height,n.bombs);case 2:return a=t.sent,t.next=5,n.logAndDestroy();case 5:return t.sent||console.log("error logging completed game"),t.abrupt("return",a);case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},{key:"update",value:function(){return this.updatedAt=new Date,R.b.save(this)}},{key:"logAndDestroy",value:function(){var e=Object(G.a)(D.a.mark(function e(){return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.b.remove(this);case 2:if(e.t0=e.sent,!e.t0){e.next=7;break}return e.next=6,L.a.AddGameResults(this);case 6:e.t0=e.sent;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"totalPieces",get:function(){return this.width*this.height-this.bombs}},{key:"gameHasStarted",get:function(){return"inprogress"===this.result}},{key:"area",get:function(){return this.width*this.height}},{key:"setResult",set:function(e){"lost"!==this.result&&"won"!==this.result&&(this.result=e)}}],[{key:"Create",value:function(){var t=Object(G.a)(D.a.mark(function t(n,a,r,i){var o,c,s;return D.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(o=new e).id=Object(F.a)(),o.difficulty=n,o.width=a,o.height=r,o.bombs=i,o.invisiblePieces=o.totalPieces,t.next=9,R.b.save(o);case 9:return c=t.sent,t.next=12,L.a.AddGame(o.difficulty);case 12:return s=t.sent,c||console.warn("Couldn't save new game"),s||console.warn("Couldn't save stats"),t.abrupt("return",o);case 16:case"end":return t.stop()}},t)}));return function(e,n,a,r){return t.apply(this,arguments)}}()},{key:"DoesGameExists",value:function(){var t=Object(G.a)(D.a.mark(function t(n){return D.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.GetById(n);case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",!1);case 9:case"end":return t.stop()}},t,null,[[0,6]])}));return function(e){return t.apply(this,arguments)}}()},{key:"GetById",value:function(){var t=Object(G.a)(D.a.mark(function t(n){var a,r;return D.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.b.getById(new e,n);case 2:if(void 0!==(a=t.sent)){t.next=5;break}throw new Error("Game does not exist, This shouldn't be called");case 5:return r=Object.assign(new e,a),t.abrupt("return",r);case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},{key:"GetUnfinishedGames",value:function(){var t=Object(G.a)(D.a.mark(function t(){var n;return D.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.b.getAll(new e,function(e){return"created"===e.result||"inprogress"===e.result});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()},{key:"GetLastPlayedGame",value:function(){var t=Object(G.a)(D.a.mark(function t(){var n,a,r;return D.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.b.getAll(new e);case 2:if(0!==(n=t.sent).length){t.next=5;break}return t.abrupt("return",void 0);case 5:a=n[0],r=1;case 7:if(!(r<n.length)){t.next=14;break}if(a.updatedAt&&!n[r].updatedAt){t.next=10;break}return t.abrupt("continue",11);case 10:a.updatedAt.getTime()<n[r].updatedAt.getTime()&&(a=n[r]);case 11:r++,t.next=7;break;case 14:return t.abrupt("return",a);case 15:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()}]),e}(),y=Object(B.a)(g.prototype,"id",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=Object(B.a)(g.prototype,"time",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=Object(B.a)(g.prototype,"difficulty",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),j=Object(B.a)(g.prototype,"width",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),k=Object(B.a)(g.prototype,"height",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=Object(B.a)(g.prototype,"bombs",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=Object(B.a)(g.prototype,"board",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=Object(B.a)(g.prototype,"totalMoves",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=Object(B.a)(g.prototype,"invisiblePieces",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=Object(B.a)(g.prototype,"isComplete",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=Object(B.a)(g.prototype,"result",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"created"}}),z=Object(B.a)(g.prototype,"updatedAt",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Date}}),I=Object(B.a)(g.prototype,"createdAt",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Date}}),v=g))||v)},function(e,t,n){"use strict";function a(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})}n.d(t,"a",function(){return a})},,,function(e,t,n){e.exports=n.p+"static/media/info.4137872d.svg"},function(e,t,n){e.exports=n.p+"static/media/cog-f.54d5d725.svg"},,,,function(e,t,n){e.exports=n.p+"static/media/arrows-fullscreen.b8e801e4.svg"},function(e,t,n){e.exports=n.p+"static/media/arrow-left.e2ccdb63.svg"},function(e,t,n){e.exports=n.p+"static/media/home-f.62ae8e4f.svg"},function(e,t,n){},function(e,t,n){},function(e,t,n){e.exports=n(58)},,,,,function(e,t,n){},,,,function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(33),o=n.n(i),c=n(8),s=n(9),u=n(16),l=n(15),b=n(17),m=n(6),f=n(20),p=n(25),d=n(1),h=n.n(d),v=n(3),g=n(10),y=(n(50),n(27));var w=function(){return window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone},O=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).installPrompt=null,n.installApp=Object(v.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.installPrompt){e.next=2;break}return e.abrupt("return",!1);case 2:n.installPrompt.prompt(),n.installPrompt.userChoice.then(function(e){e.outcome,n.installPrompt=null,n.setState({installButton:!1})});case 4:case"end":return e.stop()}},e)})),n.state={loading:!0,installButton:!1,gameId:void 0},n}return Object(b.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(h.a.mark(function e(){var t,n=this;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.GetLastPlayedGame();case 2:(t=e.sent)?this.setState({loading:!1,gameId:t.id}):this.setState({loading:!1}),window.addEventListener("beforeinstallprompt",function(e){if(e.preventDefault(),n.installPrompt=e,w())return!1;n.setState({installButton:!0})}),window.addEventListener("appinstalled",function(){console.log("Thank you for installing our app!")});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading?r.a.createElement(f.a,null):r.a.createElement("div",{className:"home"},r.a.createElement("div",{className:"home__header"},r.a.createElement("h1",{className:"home__header--center"},"Bomb Finder!")),r.a.createElement("ul",{className:"home__list"},this.state.gameId?r.a.createElement("li",{className:"home__list__item"},r.a.createElement(g.b,{to:"/game/".concat(this.state.gameId)},"CONTINUE")):null,r.a.createElement("li",{className:"home__list__item"},r.a.createElement(g.b,{to:"/menu"},"NEW GAME")),r.a.createElement("li",{className:"home__list__item"},r.a.createElement(g.b,{to:"/stats"},"STATISTICS")),r.a.createElement("li",{className:"home__list__item"},r.a.createElement(g.b,{to:"/settings"},"SETTINGS")),r.a.createElement("li",{className:"home__list__item"},r.a.createElement(g.b,{to:"/how-to-play"},"HOW TO PLAY")),this.state.installButton?r.a.createElement("li",{className:"home__list__item"},r.a.createElement("span",{onClick:this.installApp},"INSTALL APP")):null))}}]),t}(a.Component),j=(n(39),n(31)),k=n.n(j),x=n(32),E=n.n(x),N=n(36),T=n.n(N),M=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).fullscreen=function(){var e=document;e.fullscreenElement?e.exitFullscreen&&e.exitFullscreen():e.documentElement.requestFullscreen()},n}return Object(b.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement(g.b,{to:"/how-to-play"},r.a.createElement("img",{src:k.a,alt:"Info"})),document.fullscreenEnabled?r.a.createElement("div",{onClick:this.fullscreen},r.a.createElement("img",{src:T.a,alt:"fullscreen"})):null,r.a.createElement(g.b,{to:"/settings"},r.a.createElement("img",{src:E.a,alt:"Settings"})))}}]),t}(r.a.Component),A=n(37),z=n.n(A),I=n(38),P=n.n(I),D=(n(40),Object(m.g)(function(e){return"/"===e.location.pathname?r.a.createElement("div",{className:"header--hidden"},"BombFinder"):r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header__link",onClick:function(){return e.history.goBack()}},r.a.createElement("img",{src:z.a,alt:"Back"})),r.a.createElement("h3",null,"BombFinder"),r.a.createElement(g.b,{to:"/",className:"header__link"},r.a.createElement("img",{src:P.a,alt:"Home"})))}));var G=Object(a.lazy)(function(){return n.e(5).then(n.bind(null,103))}),_=Object(a.lazy)(function(){return n.e(12).then(n.bind(null,98))}),S=Object(a.lazy)(function(){return n.e(9).then(n.bind(null,104))}),C=Object(a.lazy)(function(){return n.e(7).then(n.bind(null,99))}),B=Object(a.lazy)(function(){return n.e(4).then(n.bind(null,106))}),R=Object(a.lazy)(function(){return n.e(3).then(n.bind(null,102))}),F=Object(a.lazy)(function(){return n.e(6).then(n.bind(null,100))}),L=Object(a.lazy)(function(){return n.e(10).then(n.bind(null,105))}),K=Object(a.lazy)(function(){return n.e(11).then(n.bind(null,75))}),W=Object(a.lazy)(function(){return n.e(8).then(n.bind(null,101))}),Y=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){p.a.initialize("UA-143146753-1",{debug:!1})}},{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&this.onRouteChanged()}},{key:"onRouteChanged",value:function(){p.a.pageview(this.props.location.pathname)}},{key:"render",value:function(){var e,t=!0,n="",i=this.props.location.pathname.split("/");return"/"===this.props.location.pathname?n="0px 1fr 60px":3===i.length&&"game"===i[1]&&(e=i[2],RegExp(/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/).test(e))?(t=!1,n="0px 1fr 0px"):n="60px 1fr 60px",document.getElementById("root").style.gridTemplateRows=n,r.a.createElement(r.a.Fragment,null,t?r.a.createElement(D,null):null,r.a.createElement("div",{id:"page",className:"page"},r.a.createElement(a.Suspense,{fallback:r.a.createElement(f.a,null)},r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",component:O}),r.a.createElement(m.b,{path:"/about",component:_}),r.a.createElement(m.b,{path:"/menu/custom",component:G}),r.a.createElement(m.b,{path:"/menu/manage",component:W}),r.a.createElement(m.b,{path:"/menu",component:S}),r.a.createElement(m.b,{path:"/how-to-play",component:C}),r.a.createElement(m.b,{path:"/settings",component:B}),r.a.createElement(m.b,{path:"/stats",component:L}),r.a.createElement(m.b,{path:"/game/:id/game-won",component:F}),r.a.createElement(m.b,{path:"/game/:id",component:R}),r.a.createElement(m.b,{component:K})))),t?r.a.createElement(M,null):null)}}]),t}(r.a.PureComponent),U=Object(m.g)(Y),Q=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function H(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}n(57);var X=w()?"/":"/bomb-finder";o.a.render(r.a.createElement(g.a,{basename:X},r.a.createElement(U,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/bomb-finder",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/bomb-finder","/service-worker.js");Q?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):H(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):H(t,e)})}}()}],[[41,1,2]]]);
//# sourceMappingURL=main.28755852.chunk.js.map